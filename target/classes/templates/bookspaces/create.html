<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Bookspace - BookClub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" th:href="@{/dashboard}">BookClub</a>
        <div class="navbar-nav ms-auto">
            <a class="nav-link" th:href="@{/dashboard}">Dashboard</a>
            <a class="nav-link" th:href="@{/bookspaces}">My Bookspaces</a>
            <a class="nav-link" th:href="@{/search}">Find Friends</a>
            <span class="navbar-text me-3" th:if="${currentUser}" th:text="'Welcome, ' + ${currentUser.username}">Welcome, User</span>
            <a class="nav-link" th:href="@{/logout}">Logout</a>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title mb-0">Create New Bookspace</h3>
                </div>
                <div class="card-body">
                    <form th:action="@{/bookspaces/new}" th:object="${bookspace}" method="post">
                        <div class="mb-3">
                            <label for="title" class="form-label">Title <span class="text-danger">*</span></label>
                            <input type="text"
                                   class="form-control"
                                   th:class="${#fields.hasErrors('title')} ? 'form-control is-invalid' : 'form-control'"
                                   id="title"
                                   th:field="*{title}"
                                   placeholder="Enter bookspace title"
                                   maxlength="100">
                            <div th:if="${#fields.hasErrors('title')}" class="invalid-feedback">
                                <span th:errors="*{title}">Title error</span>
                            </div>
                            <div class="form-text">Maximum 100 characters</div>
                        </div>

                        <div class="mb-4">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control"
                                      th:class="${#fields.hasErrors('description')} ? 'form-control is-invalid' : 'form-control'"
                                      id="description"
                                      th:field="*{description}"
                                      rows="4"
                                      placeholder="Describe your bookspace (optional)"
                                      maxlength="500"></textarea>
                            <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
                                <span th:errors="*{description}">Description error</span>
                            </div>
                            <div class="form-text">Maximum 500 characters</div>
                        </div>

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <a th:href="@{/bookspaces}" class="btn btn-secondary me-md-2">Cancel</a>
                            <button type="submit" class="btn btn-primary">Create Bookspace</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="mt-4">
                <div class="alert alert-info">
                    <h5 class="alert-heading">What is a Bookspace?</h5>
                    <p class="mb-0">A Bookspace is your personal space to share thoughts, reviews, and discussions about books, papers, or any topic you're passionate about. You can create posts within your Bookspace and engage with others through comments.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
